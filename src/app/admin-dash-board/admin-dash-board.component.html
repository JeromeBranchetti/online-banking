<div class="container-fluid pt-3">
  <div class="row">
    <!-- Prima lista (sinistra) -->
    <div class="col-lg-3 col-sm-12">
      <div id="newRequestHeader">
        <h1>Lista Nuove Richieste</h1>
        <button class="confirmButton" (click)="onFetchRequest()">Fetch</button>
      </div>
      <div class="row flex-column requestsList" aria-orientation="vertical">
        <!-- ngFor nuove richieste -->
        <div
          *ngFor="let request of newRequests; let i = index"
          class="nav-link request"
          data-toggle="pill"
          aria-controls="v-pills-home"
          aria-selected="true"
          (click)="onSelectNewRequest(i)"
        >
          <div class="row">
            <div class="col-10">
              {{ userList[i].firstName }}
              {{ userList[i].lastName }}
            </div>
            <div
              class="col-2"
              [ngClass]="{
                'led-green': requestsLight[i] === 'green',
                'led-yellow': requestsLight[i] === 'yellow',
                'led-red': requestsLight[i] === 'red'
              }"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Spazio per le richieste -->
    <div class="col-lg-6 col-sm-12 singleRequest">
      <div class="div-center">
        <div *ngIf="requestVisibility">
          <app-request
            [firstName]="selectedUser.firstName"
            [lastName]="selectedUser.lastName"
            [email]="selectedUser.email"
            [type]="selectedRequest.state"
            [light]="selectedLight"
            [idConto]="selectedRequest.id"
            [result]="selectedRequest.result"
            [header]="selectedRequest.header"
          ></app-request>
          <div class="buttons" *ngIf="buttonVisibility">
            <button class="button" (click)="onAcceptRequest()">Accetta</button>
            <button class="redButton" (click)="onDeclineRequest()">
              Declina
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Seconda lista (destra) -->
    <div class="col-lg-3 col-sm-12 oldRequestList">
      <h1>Lista Richieste Completate</h1>
      <div class="nav flex-column requestsList" aria-orientation="vertical">
        <!-- ngFor vecchie richieste -->
        <div
          *ngFor="let request of oldRequests; let i = index"
          class="nav-link request"
          data-toggle="pill"
          aria-controls="v-pills-home"
          aria-selected="true"
          (click)="onSelectOldRequest(i)"
        >
          <!-- {{ oldRequests[i].firstName }}
          {{ oldRequests[i].lastName }} -->
          <div [ngClass]="{}"></div>
        </div>
      </div>
    </div>
  </div>
  <!-- Bottone di download -->
  <br />
  <div class="row">
    <div class="col-lg-12 downloadButton">
      <button (click)="onDownloadUserList()">Download Lista Utenti</button>
    </div>
  </div>
</div>
